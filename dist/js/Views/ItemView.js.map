{"version":3,"sources":["../../../src/js/Views/ItemView.js"],"names":["ScheduleItemView","data","options","settings","listenTo","model","remove","onButtonClick","e","preventDefault","stopImmediatePropagation","action","jQuery","currentTarget","save","destroy","$el","slideUp","extend","events","subViews","form","_this","formatters","height","value","instance","Math","round","parseFloat","get","toFixed"],"mappings":";;;;AAAA;;AACA;;;;;;;;;;;;IAGqBA,gB;;;AAapB,2BAAaC,IAAb,EAAmBC,OAAnB,EAA6B;AAAA;;AAAA,gDAC5B,6BAAOD,IAAP,EAAaC,OAAb,CAD4B;;AAE5B,SAAKC,QAAL,GAAgBF,KAAKE,QAArB;AACA,SAAKC,QAAL,CAAe,OAAKC,KAApB,EAA2B,SAA3B,EAAsC,OAAKC,MAA3C;AAH4B;AAI5B;;4BAEDC,a,0BAAeC,C,EAAI;AAClBA,IAAEC,cAAF;AACAD,IAAEE,wBAAF;AACA,MAAIC,SAASC,OAAQJ,EAAEK,aAAV,EAA0BZ,IAA1B,CAAgC,QAAhC,CAAb;AACA,UAASU,MAAT;AACC,QAAI,MAAJ;AACC,SAAKG,IAAL;AACA;AACD,QAAI,QAAJ;AACC,SAAKT,KAAL,CAAWU,OAAX;AALF;AAOA,E;;4BAEDD,I,mBAAO;AACN,OAAKT,KAAL,CAAWS,IAAX;AACA,E;;AAED;;;;;4BAGAR,M,qBAAS;AAAA;;AACR,OAAKU,GAAL,CAASC,OAAT,CAAkB,GAAlB,EAAuB,YAAM;AAC5B,+BAAMX,MAAN;AACA,GAFD;AAGA,E;;;EA3C4C,yBAAUY,MAAV,CAAkB;AAC/DC,SAAY;AACX,yBAAuB;AADZ,EADmD;AAI/DC,WAAY;AACXC,QAAM,cAAEC,KAAF;AAAA,UAAa,+BAAsB;AACxCjB,WAAOiB,MAAMjB;AAD2B,IAAtB,CAAb;AAAA;AADK,EAJmD;AAS/DkB,aAAY;AACXC,UAAQ,gBAAEC,KAAF,EAASC,QAAT;AAAA,UAAuBC,KAAKC,KAAL,CAAYH,QAAQ,IAAR,GAAeI,WAAYH,SAASvB,QAAT,CAAkB2B,GAAlB,CAAuB,cAAvB,CAAZ,CAA3B,EAAmFC,OAAnF,CAA4F,CAA5F,IAAkG,IAAzH;AAAA;AADG;AATmD,CAAlB,C;;kBAAzB/B,gB","file":"ItemView.js","sourcesContent":["import {BiontView} from \"biont-backbone\";\nimport ScheduleFormView from \"./ScheduleFormView\";\n\n\nexport default class ScheduleItemView extends BiontView.extend( {\n\tevents    : {\n\t\t'click [data-action]': 'onButtonClick',\n\t},\n\tsubViews  : {\n\t\tform: ( _this ) => new ScheduleFormView( {\n\t\t\tmodel: _this.model\n\t\t} )\n\t},\n\tformatters: {\n\t\theight: ( value, instance ) => Math.round( value / 98.0 + parseFloat( instance.settings.get( 'heightOffset' ) ) ).toFixed( 1 ) + 'cm'\n\t}\n} ) {\n\tconstructor( data, options ) {\n\t\tsuper( data, options );\n\t\tthis.settings = data.settings;\n\t\tthis.listenTo( this.model, 'destroy', this.remove );\n\t}\n\n\tonButtonClick( e ) {\n\t\te.preventDefault();\n\t\te.stopImmediatePropagation();\n\t\tlet action = jQuery( e.currentTarget ).data( 'action' );\n\t\tswitch ( action ) {\n\t\t\tcase'save':\n\t\t\t\tthis.save();\n\t\t\t\tbreak;\n\t\t\tcase'remove':\n\t\t\t\tthis.model.destroy();\n\t\t}\n\t}\n\n\tsave() {\n\t\tthis.model.save();\n\t}\n\n\t/**\n\t * Slides up and then kills the view\n\t */\n\tremove() {\n\t\tthis.$el.slideUp( 275, () => {\n\t\t\tsuper.remove()\n\t\t} );\n\t}\n\n}\n"]}